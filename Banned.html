<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Generator Teks WhatsApp Banned - Neon Style</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');

    body {
      font-family: 'Orbitron', sans-serif;
      background: #0f0f0f;
      color: #00ffe7;
      margin: 0;
      padding: 20px;
      overflow-x: hidden;
    }

    .container {
      max-width: 750px;
      margin: auto;
      background: #1a1a1a;
      padding: 25px;
      border-radius: 16px;
      box-shadow: 0 0 20px #00fff7, 0 0 40px #007cf0 inset;
    }

    h2 {
      text-align: center;
      color: #00fff7;
      text-shadow: 0 0 10px #00fff7;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
      color: #00ffe7;
    }

    input, select, button, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      box-sizing: border-box;
      background-color: #0e0e0e;
      color: #00ffe7;
      outline: none;
    }

    input:focus, select:focus, textarea:focus {
      box-shadow: 0 0 8px #00fff7;
    }

    button {
      background: #00ffe7;
      color: #0f0f0f;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s ease;
    }

    button:hover {
      background: #00aaff;
      color: white;
    }

    .output {
      margin-top: 20px;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .btn-row button {
      flex: 1;
    }

    #languageCount {
      text-align: center;
      color: #aaa;
      margin-bottom: 10px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>🚫 Generator Teks Laporan WhatsApp 🚫</h2>
    <p id="languageCount">Memuat bahasa...</p>

    <div class="form-group">
      <label for="name">Nama Anda</label>
      <input type="text" id="name" placeholder="Contoh: Dimas">
    </div>

    <div class="form-group">
      <label for="number">Nomor yang Dilaporkan</label>
      <input type="text" id="number" placeholder="Contoh: +6281234567890">
    </div>

    <div class="form-group">
      <label for="reason">Pilih Alasan</label>
      <select id="reason">
        <option value="spam">Spam</option>
        <option value="scam">Penipuan</option>
        <option value="harassment">Pelecehan</option>
        <option value="fakeprofile">Akun Palsu</option>
        <!-- Tambahkan alasan lain jika diperlukan -->
      </select>
    </div>

    <div class="form-group">
      <label for="lang">Pilih Bahasa</label>
      <select id="lang"></select>
    </div>

    <button onclick="generate()">🔧 Generate Teks</button>

    <div class="output">
      <label for="result">Hasil Teks:</label>
      <textarea id="result" rows="10" readonly></textarea>

      <div class="btn-row">
        <button onclick="copyText()">📋 Salin</button>
        <button onclick="sendEmail()">📧 Laporkan via Email</button>
      </div>
    </div>
  </div>

  <script>
    const api = "https://197156c6-5239-4c71-b332-8f1505f57cc1-00-3lst5qw6odtwl.sisko.replit.dev";

    const languageMap = {
  "id": "Bahasa Indonesia",
  "en": "English",
  "es": "Español",
  "fr": "Français",
  "de": "Deutsch",
  "pt": "Português",
  "it": "Italiano",
  "ru": "Русский",
  "zh": "中文",
  "ja": "日本語",
  "ko": "한국어",
  "ar": "العربية",
  "tr": "Türkçe",
  "nl": "Nederlands",
  "pl": "Polski",
  "sv": "Svenska",
  "no": "Norsk",
  "da": "Dansk",
  "fi": "Suomi",
  "el": "Ελληνικά",
  "hi": "हिन्दी",
  "bn": "বাংলা",
  "vi": "Tiếng Việt",
  "th": "ไทย",
  "ur": "اردو",
  "fa": "فارسی",
  "ro": "Română",
  "hu": "Magyar",
  "cs": "Čeština",
  "sk": "Slovenčina",
  "uk": "Українська",
  "hr": "Hrvatski",
  "sr": "Српски"
};

    function loadLanguages() {
      const langSelect = document.getElementById("lang");
      const langs = Object.keys(languageMap);

      langs.forEach(code => {
        const opt = document.createElement("option");
        opt.value = code;
        opt.textContent = `${code.toUpperCase()} - ${languageMap[code]}`;
        langSelect.appendChild(opt);
      });

      document.getElementById("languageCount").textContent = `Total Bahasa Tersedia: ${langs.length}`;
    }

    function generate() {
      const name = document.getElementById("name").value.trim();
      const number = document.getElementById("number").value.trim();
      const reason = document.getElementById("reason").value;
      const lang = document.getElementById("lang").value;

      if (!name || !number || !reason) return alert("Lengkapi semua data!");

      fetch(`${api}/generate-ban-text`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, number, reason_code: reason, lang })
      })
      .then(res => res.json())
      .then(data => {
        if (data.error) return alert("Gagal: " + data.error);
        document.getElementById("result").value = `To: ${data.to}\nSubject: ${data.subject}\n\n${data.message}`;
      })
      .catch(err => {
        console.error(err);
        alert("Gagal menghubungi API");
      });
    }

    function copyText() {
      const result = document.getElementById("result");
      result.select();
      document.execCommand("copy");
      alert("Teks berhasil disalin!");
    }

    function sendEmail() {
      const result = document.getElementById("result").value;
      if (!result) return alert("Generate dulu teks-nya.");

      const email = "abuse@support.whatsapp.com";
      const subjectLine = encodeURIComponent(result.split('\n')[1].replace('Subject: ', ''));
      const body = encodeURIComponent(result.split('\n').slice(3).join('\n'));

      window.open(`mailto:${email}?subject=${subjectLine}&body=${body}`, "_blank");
    }

    loadLanguages();
  </script>
</body>
  </html>
